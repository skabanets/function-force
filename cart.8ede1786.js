function t(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},r=n.parcelRequire6ab9;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in s){var e=s[t];delete s[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){s[t]=e},n.parcelRequire6ab9=r),r.register("kyEFX",(function(e,n){var i,s;t(e.exports,"register",(function(){return i}),(function(t){return i=t})),t(e.exports,"resolve",(function(){return s}),(function(t){return s=t}));var r={};i=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)r[e[n]]=t[e[n]]},s=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),r("kyEFX").register(JSON.parse('{"d3pfZ":"cart.8ede1786.js","lp5u4":"sprite.b9b5d2c9.svg","9lroz":"index.0104942d.js"}'));var c;c=new URL(r("kyEFX").resolve("lp5u4"),import.meta.url).toString();const o=(d=r("5uEKZ")).getItem("bucket");var a=t=>`<li class="checkout-products-list-item" data-id="${t._id}">\n          <div class="checkout-product-item-card">\n            <div class="checkout-product-item-card-img">\n              <img\n                class="checkout-product-img"\n                src="${t.img}"\n                alt="${t.name}"\n                width="64"\n                height="64"\n                loading="lazy"\n              />\n            </div>\n            <div class="product-item-card-details">\n              <div class="product-item-attributes">\n                <h3 class="product-item-name">${t.name}</h3>\n                <p class="product-item-category">\n                  <span class="product-item-catogry-label">Category: </span>\n                  <span class="product-item-category-name">${t.category}</span>\n                </p>\n                <p class="product-item-size">\n                  <span class="product-item-size-label">Size: </span\n                  ><span class="product-item-size-name">${t.size}</span>\n                </p>\n              </div>\n              <div class="product-item-price-qty">\n                <div class="product-item-price">$${parseFloat(t.price).toFixed(2)}</div>\n                <div class="product-item-qty">\n                  <button class="qty-decrement-btn">\n                    <svg class="icon-qty-decrement" width="14" height="14">\n                      <use href="${e(c)}#icon-minus"></use>\n                    </svg>\n                  </button>\n                  <span class="product-qty-value">${o.filter((e=>e.id===t._id)).pop().amount}</span>\n                  <button class="qty-increment-btn">\n                    <svg class="icon-qty-increment" width="14" height="14">\n                      <use href="${e(c)}#icon-plus"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <button class="remove-item-btn" type="button">\n              <svg class="remove-item-btn-icon" width="18" height="18">\n                <use href="${e(c)}#icon-ion_close-sharp"></use>\n              </svg>\n            </button>\n          </div>\n        </li>`,d=r("5uEKZ"),l=r("7rYDH"),u=r("bA0jZ");d=r("5uEKZ");const p=document.querySelector(".js-total-price"),m=()=>{const t=(0,d.getItem)("bucket").reduce(((t,{amount:e,price:n})=>t+e*Number(n)),0).toFixed(2),e=String(t).replace(/\./g,",");p.innerHTML=`&#36;${e}`},g={container:document.querySelector(".checkout-products-list"),deleteAllProductsBtn:document.querySelector(".delete-all-products-btn"),emptyCartSection:document.querySelector(".empty-cart-section"),shoppingCartSection:document.querySelector(".shopping-cart-section")},b=()=>{g.shoppingCartSection.classList.add("hidden"),g.emptyCartSection.classList.remove("hidden")};g.container.addEventListener("click",(t=>{if(!t.target.closest("button")||!t.target.closest("button").classList.contains("remove-item-btn"))return;const e=d.getItem("bucket"),n=t.target.closest("li").dataset.id,i=e.filter((t=>t.id!==n));d.setItem("bucket",i),t.target.closest("li").classList.add("hide-list-item"),setTimeout((()=>{t.target.closest("li").remove(),(0,u.renderQuantityOrders)(),m(),0===i.length&&b()}),1e3)})),g.container.addEventListener("click",(t=>{const e=t.target.closest("button");if(!e||!e.classList.contains("qty-increment-btn")&&!e.classList.contains("qty-decrement-btn"))return;const n=d.getItem("bucket"),i=t.target.closest("li").dataset.id,s=t.target.closest(".product-item-price-qty").querySelector(".product-qty-value"),r=n.map((t=>{if(t.id===i){const n=e.classList.contains("qty-increment-btn")?t.amount+1:t.amount>1?t.amount-1:1;return s.innerHTML=n,{id:t.id,amount:n,price:t.price}}return t}));d.setItem("bucket",r),m()})),g.deleteAllProductsBtn.addEventListener("click",(t=>{d.setItem("bucket",[]);for(const t of g.container.children)t.classList.add("hide-list-item");(0,u.renderQuantityOrders)(),setTimeout((()=>{b()}),800)}));(async()=>{try{const t=d.getItem("bucket"),e=await(async t=>await Promise.all(t.map((async t=>await l.getProductById(t.id)))))(t);0===e.length?b():(g.shoppingCartSection.classList.remove("hidden"),g.emptyCartSection.classList.add("hidden"));const n=e.map(a).join("");g.container.innerHTML=n,(0,u.renderQuantityOrders)(),m()}catch(t){console.log(t)}})();
//# sourceMappingURL=cart.8ede1786.js.map
