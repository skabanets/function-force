function t(t,s,e,n){Object.defineProperty(t,s,{get:e,set:n,enumerable:!0,configurable:!0})}function s(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},c=e.parcelRequire6ab9;null==c&&((c=function(t){if(t in n)return n[t].exports;if(t in o){var s=o[t];delete o[t];var e={id:t,exports:{}};return n[t]=e,s.call(e.exports,e,e.exports),e.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,s){o[t]=s},e.parcelRequire6ab9=c),c.register("kyEFX",(function(s,e){var n,o;t(s.exports,"register",(function(){return n}),(function(t){return n=t})),t(s.exports,"resolve",(function(){return o}),(function(t){return o=t}));var c={};n=function(t){for(var s=Object.keys(t),e=0;e<s.length;e++)c[s[e]]=t[s[e]]},o=function(t){var s=c[t];if(null==s)throw new Error("Could not resolve bundle with id "+t);return s}})),c("kyEFX").register(JSON.parse('{"7bk21":"index.56fc8bea.js","lp5u4":"sprite.c60bbd42.svg","9lroz":"index.0104942d.js"}')),c("bA0jZ");const i=document.querySelectorAll(".dropdown-filter");i.forEach((t=>{t.addEventListener("click",(t=>{t.target.closest(".dropdown-filter").childNodes[5].classList.toggle("menu-open")}))})),document.addEventListener("click",(function(t){i.forEach((s=>{const e=s.closest(".dropdown-filter"),n=e.childNodes[5];e.contains(t.target)||n.contains(t.target)||n.classList.remove("menu-open")}))}));var a=c("7rYDH");const l=document.querySelector(".menu-categories-js");document.querySelector(".categories-js");!async function(){let t="";try{l.innerHTML="";const s=await(0,a.getProductsCategories)();t=s.map((t=>`<li class='menu-filter-item' data-value='${t}'>${t}</li>`)).join(""),t+='<li class="show-all-categories">Show all</li>'}catch(s){t="<li>Error! Try again</li>"}l.innerHTML=t}();a=c("7rYDH");var d=c("5uEKZ"),r=(d=c("5uEKZ"),c("bA0jZ"));const u=t=>{const s=document.querySelector(`.js-product-item[data-id="${t}"]`);if(!s)return;const e={id:t,amount:1,price:s.dataset.price},n=(0,d.getItem)("bucket");(0,d.setItem)("bucket",[...n,e]),(t=>{document.querySelectorAll(`.js-product-item[data-id="${t}"]`).forEach((t=>{const s=t.querySelector(".js-buy-button"),e=t.querySelector(".js-bought-btn");s&&e&&(s.classList.toggle("hidden"),e.classList.toggle("hidden"))}))})(t),(0,r.renderQuantityOrders)()};var p;p=new URL(c("kyEFX").resolve("lp5u4"),import.meta.url).toString();const g=document.querySelector(".js-cart-list"),b=async(t=1)=>{try{g.innerHTML='<li class="list-loader"><span class="loader"></span></li>';const{results:e}=await(0,a.getProducts)({page:t,sort:{field:"byABC",value:!0},limit:m()}),n=(0,d.getItem)("bucket"),o=e.map((t=>`\n  <li class="cart js-product-item" data-id="${t._id}" data-price="${t.price}">\n  <div class="cart-container">\n  <div class="cart-img-container">\n    <img src="${t.img}" alt="" class="cart-img">\n    ${t.is10PercentOff?`<svg class="discount-svg" width="60" height="60">\n              <use\n                href="${s(p)}#icon-discount"\n              ></use>\n            </svg>`:""}\n  </div>\n    <p class="cart-name">${t.name}</p>\n    <ul class="info">\n      <li class="info-item">Category: <span class="info-text">${t.category}</span></li>\n      <li class="info-item">Size: <span class="info-text">${t.size}</span></li>\n      <li class="info-item">Popularity: <span class="info-text">${t.popularity}</span></li>\n    </ul>\n    <div class="buy-info">\n      <p class="buy-price">&#36;${t.price}</p>\n    \n      ${n.some((s=>s.id===t._id))?`<button class="check js-bought-btn" type="button" disabled>\n            <svg class="buy-svg" width="18" height="18">\n              <use\n                class="check-svg"\n                href="${s(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="buy buy-btn js-buy-button" type="button">\n            <svg class="buy-svg buy-btn" width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${s(p)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check js-bought-btn hidden" type="button">\n            <svg class="buy-svg " width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${s(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n    </div>\n    </div>\n  </li>\n      `));g.innerHTML="",g.insertAdjacentHTML("beforeend",o.join(""))}catch(t){console.log(t)}};function m(){const t=window.innerWidth;return t>=768&&t<1440?8:t>=1440?9:6}b(),g.addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&u(t.target.closest("li.js-product-item").dataset.id)}));a=c("7rYDH");const h=()=>window.innerWidth<376;(async()=>{let t=1;const s=document.querySelector(".pg-list"),e=document.querySelector(".left-btns"),n=document.querySelector(".right-btns"),{totalPages:o}=await(0,a.getProducts)({sort:{field:"byABC",value:!0},limit:m()}),c=[];for(let s=0;s<o;s++){const e=`pg-item ${t===s+1?"pg-active":""} ${1===t&&0===s||t===o&&s===o-1?"dis":""}`;c.push(`<li class="${e}" data-pg="${s+1}">${s+1}</li>`)}if(h()){const t='<li class="pg-item dotDis">...</li>';c.splice(1,o-2,t),console.log(c)}else{const t='<li class="pg-item dotDis">...</li>';c.splice(2,o-4,t)}s.insertAdjacentHTML("beforeend",c.join("")),l();const i=()=>{document.querySelector(".pg-active").classList.remove("pg-active"),h()?t>1&&t<o-1?s.childNodes[1].classList.toggle("pg-active"):s.childNodes[t<2?t-1:t+2-o].classList.add("pg-active"):t>2&&t<o-2?s.childNodes[2].classList.toggle("pg-active"):s.childNodes[t<3?t-1:t+4-o].classList.add("pg-active")};function l(){e.childNodes[1].classList.toggle("dis",1==t),e.childNodes[3].classList.toggle("dis",1==t),n.childNodes[1].classList.toggle("dis",t==o),n.childNodes[3].classList.toggle("dis",t==o),s.childNodes[0].classList.toggle("dis",1==t),h()?s.childNodes[2].classList.toggle("dis",t==o):s.childNodes[4].classList.toggle("dis",t==o)}s.addEventListener("click",(s=>(s=>{if(s.classList.contains("pg-list"))return;document.querySelector(".pg-active").classList.remove("pg-active"),t=s.closest(".pg-item").dataset.pg,s.classList.add("pg-active"),l(),b(t)})(s.target))),e.addEventListener("click",(s=>(s=>{if(1==t||s.classList.contains("left-btns"))return;s.closest(".pg-arrow").classList.contains("js-btn-1")?t--:t=1,b(t),l(),i()})(s.target))),n.addEventListener("click",(s=>(s=>{if(t==o||s.classList.contains("right-btns"))return;s.closest(".pg-arrow").classList.contains("js-btn-1")?t++:t=o,b(t),l(),i()})(s.target)))})();a=c("7rYDH"),d=c("5uEKZ");const v=document.querySelector(".popular-product-list");function y(t,s){return t.popularity<s.popularity?1:t.popularity>s.popularity?-1:0}(async()=>{try{let t=5;v.innerHTML="";const e=await(0,a.getPopularProducts)(t),n=(0,d.getItem)("bucket");e.sort(y);const o=e.map((t=>`\n  <li class="popular-product-item js-product-item" data-id="${t._id}" data-price="${t.price}">\n      <div class="product-image-container">\n        <img\n          src="${t.img}"\n          alt="#"\n          width="56"\n          height="56"\n        />\n      </div>\n      <div class="product-description">\n        <p class="product-name">${t.name}</p>\n          <p class="info-item">\n            Category:<span class="info-text">${t.category}</span>\n          </p>\n          <div class="product-info">\n          <p class="info-item">Size:<span class="info-text">${t.size}</span></p>\n          <p class="info-item">Popularity:<span class="info-text">${t.popularity}</span></p>\n        </div>\n      </div>\n      <div class="btn-wrapper">\n      ${n.some((s=>s.id===t._id))?`<button class="check-popular js-bought-btn" type="button" disabled>\n            <svg class="buy-svg-popular" width="12" height="12">\n              <use\n                class="check-svg-popular"\n                href="${s(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="popular-product-button btn-js js-buy-button" type="button">\n            <svg class="icon-popular-btn btn-js" width="12" height="12">\n              <use\n                class="btn-js"\n                href="${s(p)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check-popular js-bought-btn hidden" type="button">\n            <svg class="buy-svg-popular" width="12" height="12">\n              <use\n                class="btn-js"\n                href="${s(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n      </div>\n    </li>\n      `));v.insertAdjacentHTML("beforeend",o.join(""))}catch(t){console.log(t)}})(),v.addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&u(t.target.closest("li.js-product-item").dataset.id)}));a=c("7rYDH");const f=(0,(d=c("5uEKZ")).getItem)("bucket"),L=document.querySelector(".js-discount-list");!async function(){try{const t=(await(0,a.getDiscountedProducts)()).slice(0,2).map((t=>`\n          <li class="discount-item js-product-item" data-id="${t._id}" data-price="${t.price}">\n            <svg class="discount-icon" width="60" height="60">\n              <use href="${s(p)}#icon-discount"></use>\n            </svg>\n            <div class="discount-container-img">\n              <img\n                src="${t.img}"\n                alt="${t.name}-img"\n                class="discount-img"\n              />\n            </div>\n            <div class="discount-order">\n              <h3 class="discount-name">${t.name}</h3>\n              <p class="discount-price">&#36;${t.price}</p>\n              <div class="btn-wrapper-discount">\n              ${f.some((s=>s.id===t._id))?`<button class="check-discount js-bought-btn" type="button" disabled>\n            <svg class="buy-svg-discount" width="18" height="18">\n              <use\n                class="check-svg-discount"\n                href="${s(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="discount-product-button btn-js js-buy-button" type="button">\n            <svg class="icon-discount-btn btn-js" width="18" height="18">\n              <use\n                class="btn-js"\n                href="${s(p)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check-discount js-bought-btn hidden" type="button">\n            <svg class="buy-svg-discount" width="18" height="18">\n              <use\n                class="btn-js"\n                href="${s(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n            </div>\n            </div>\n          </li>\n        `)).join("");L.insertAdjacentHTML("beforeend",t)}catch(t){console.error("Error rendering discount items:",t)}}(),L.addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&u(t.target.closest("li.js-product-item").dataset.id)}));a=c("7rYDH"),d=c("5uEKZ");function j(t){const e=(0,d.getItem)("bucket");return` \n    <div class="modal-window js-product-item" data-id="${t._id}" data-price="${t.price}">\n      <button type="button" class="modal-close-btn popup-modal-close">\n      <svg class="modal-close-icon">\n        <use href="${s(p)}#close"></use>\n      </svg>\n    </button>\n\n    <div class="modal-main-content-box">\n      <div class="modal-picture-box-container">\n        <img class="modal-pic" src="${t.img}" alt="picture of the vegetable" />\n      </div>\n      <div class="modal-main-content">\n        <h2 class="modal-title">${t.name}</h2>\n        <div class="modal-box-info">\n          <p class="classification">\n            Category:<span class="modal-info">${t.category}</span>\n          </p>\n          <p class="classification">\n            Size:<span class="modal-info">${t.size}</span>\n          </p>\n          <p class="classification">\n            Popularity:<span class="modal-info">${t.popularity}</span>\n          </p>\n        </div>\n\n        <p class="modal-description">\n        ${t.desc}\n        </p>\n      </div>\n    </div>\n\n    <div class="modal-box-bottom">\n      <p class="modal-price">&#36;${t.price}</p>\n\n\n  \n      ${e.some((s=>s.id===t._id))?`      <button\n        type="button"\n        class="added-to js-bought-btn"\n        data-modal-added-to\n      >\n        Added <svg class="modal-shopping-cart" width="18" height="18">\n          <use href="${s(p)}#icon-check"></use>\n        </svg>\n      </button>`:`<button type="button" class="add-to js-buy-button" data-modal-add-to>\n        Add to<svg class="modal-shopping-cart js-buy-button" width="18" height="18">\n          <use href="${s(p)}#icon-shopping-cart"></use>\n        </svg>\n      </button>`}\n            <button\n        type="button"\n        class="added-to js-bought-btn hidden"\n        data-modal-added-to\n      >\n        Added <svg class="modal-shopping-cart" width="18" height="18">\n          <use href="${s(p)}#icon-check"></use>\n        </svg>\n      </button>\n    </div>\n    </div>\n    `}const $={popular:document.querySelector(".popular-product-list"),products:document.querySelector(".js-cart-list"),discount:document.querySelector(".js-discount-list"),modal:document.querySelector(".modal-backdrops")};async function w(t){try{if(t?.target.closest(".js-buy-button"))return;if($.modal.classList.toggle("is-hidden"),$.modal.classList.contains("is-hidden"))$.modal.innerHTML="",window.removeEventListener("keydown",k);else{const s=t.target.closest("li").dataset.id,e=j(await(0,a.getProductById)(s));document.querySelector(".modal-backdrops").insertAdjacentHTML("beforeend",e);document.querySelector(".modal-window").addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&u(t.target.closest(".js-product-item").dataset.id)}));const n=document.querySelector(".popup-modal-close");$.modal.addEventListener("click",E),n.addEventListener("click",w),window.addEventListener("keydown",k)}}catch(t){console.log(t)}}function k(t){"Escape"===t.code&&w()}function E(t){t.target===$.modal&&w()}$.popular.addEventListener("click",w),$.products.addEventListener("click",w),$.discount.addEventListener("click",w);a=c("7rYDH");const S=document.querySelector(".js-footer-form"),q=document.querySelector("[data-modal]"),H=document.querySelector("[data-popup-email]"),x=(t,s,e)=>{t.classList.contains(s)&&t.classList.toggle(e)};H.addEventListener("click",(t=>x(t.target,"popup-email-backdrops","is-hidden"))),q.addEventListener("click",(t=>x(t.target,"backdrop-success","is-hidden-success"))),S.addEventListener("submit",(t=>(async t=>{try{t.preventDefault();const s=document.querySelector(".js-email").value;await(0,a.createSubscription)(s),S.reset(),q.classList.toggle("is-hidden-success")}catch(t){document.querySelector("[data-popup-email]").classList.toggle("is-hidden")}})(t)));const _={closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};_.closeModalBtn.addEventListener("click",(function(){_.modal.classList.toggle("is-hidden-success")}));const A={closeModalBtn:document.querySelector("[data-popup-close]"),modal:document.querySelector("[data-popup-email]")};A.closeModalBtn.addEventListener("click",(function(){A.modal.classList.toggle("is-hidden")}));
//# sourceMappingURL=index.56fc8bea.js.map
