function s(s,t,e,n){Object.defineProperty(s,t,{get:e,set:n,enumerable:!0,configurable:!0})}function t(s){return s&&s.__esModule?s.default:s}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},c=e.parcelRequire6ab9;null==c&&((c=function(s){if(s in n)return n[s].exports;if(s in i){var t=i[s];delete i[s];var e={id:s,exports:{}};return n[s]=e,t.call(e.exports,e,e.exports),e.exports}var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(s,t){i[s]=t},e.parcelRequire6ab9=c),c.register("kyEFX",(function(t,e){var n,i;s(t.exports,"register",(function(){return n}),(function(s){return n=s})),s(t.exports,"resolve",(function(){return i}),(function(s){return i=s}));var c={};n=function(s){for(var t=Object.keys(s),e=0;e<t.length;e++)c[t[e]]=s[t[e]]},i=function(s){var t=c[s];if(null==t)throw new Error("Could not resolve bundle with id "+s);return t}})),c("kyEFX").register(JSON.parse('{"7bk21":"index.911a05dd.js","lp5u4":"sprite.901ad050.svg","9lroz":"index.64d5b970.js"}'));var o=c("7rYDH"),l=c("5uEKZ");l=c("5uEKZ");const a=(s,t,e,n,i)=>{if(!s.classList.contains(t))return;const c={id:s.closest(e).dataset.id,amount:1},o=(0,l.getItem)("bucket");(0,l.setItem)("bucket",[...o,c]);const a=s.closest(n),r=s.closest(i).lastElementChild;a.classList.toggle("hidden"),r.classList.toggle("hidden")};var r;r=new URL(c("kyEFX").resolve("lp5u4"),import.meta.url).toString();const d=document.querySelector(".js-cart-list"),u=async(s=1)=>{try{d.innerHTML='<li class="list-loader"><span class="loader"></span></li>';const{results:e}=await(0,o.getProducts)({page:s,sort:{field:"byABC",value:!0},limit:g()}),n=(0,l.getItem)("bucket"),i=e.map((s=>`\n  <li class="cart" data-id="${s._id}">\n  <div class="cart-container">\n  <div class="cart-img-container">\n    <img src="${s.img}" alt="" class="cart-img">\n    ${s.is10PercentOff?`<svg class="discount-svg" width="60" height="60">\n              <use\n                href="${t(r)}#icon-discount"\n              ></use>\n            </svg>`:""}\n  </div>\n    <p class="cart-name">${s.name}</p>\n    <ul class="info">\n      <li class="info-item">Category: <span class="info-text">${s.category}</span></li>\n      <li class="info-item">Size: <span class="info-text">${s.size}</span></li>\n      <li class="info-item">Popularity: <span class="info-text">${s.popularity}</span></li>\n    </ul>\n    <div class="buy-info">\n      <p class="buy-price">$${s.price}</p>\n    \n      ${n.some((t=>t.id===s._id))?`<button class="check" type="button" disabled>\n            <svg class="buy-svg" width="18" height="18">\n              <use\n                class="check-svg"\n                href="${t(r)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="buy buy-btn" type="button">\n            <svg class="buy-svg buy-btn" width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${t(r)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check hidden" type="button">\n            <svg class="buy-svg " width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${t(r)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n    </div>\n    </div>\n  </li>\n      `));d.innerHTML="",d.insertAdjacentHTML("beforeend",i.join(""))}catch(s){console.log(s)}};function g(){const s=window.innerWidth;return s>=768&&s<1440?8:s>=1440?9:6}u(),d.addEventListener("click",(s=>a(s.target,"buy-btn",".cart",".buy",".buy-info")));const p=document.querySelectorAll(".dropdown-filter");p.forEach((s=>{s.addEventListener("click",(s=>{s.target.closest(".dropdown-filter").childNodes[5].classList.toggle("menu-open")}))})),document.addEventListener("click",(function(s){p.forEach((t=>{const e=t.closest(".dropdown-filter"),n=e.childNodes[5];e.contains(s.target)||n.contains(s.target)||n.classList.remove("menu-open")}))}));o=c("7rYDH");const f=document.querySelector(".js-discount-list");!async function(){try{const s=await(0,o.getDiscountedProducts)();console.log(s);const t=s.slice(0,2).map((s=>`\n          <li class="discount-item">\n            <svg class="discount-icon" width="60" height="60">\n              <use href="./images/sprite.svg#icon-discount"></use>\n            </svg>\n            <div class="discount-container-img">\n              <img\n                src="${s.img}"\n                alt="${s.name}-img"\n                class="discount-img"\n              />\n            </div>\n            <div class="discount-order">\n              <h3 class="discount-name">${s.name}</h3>\n              <p class="discount-price">&#36;${s.price}</p>\n              <button type="button" class="discount-button">\n                <svg class="discount-shopping-icon" width="18" height="18">\n                  <use href="./images/sprite.svg#icon-shopping-cart"></use>\n                </svg>\n              </button>\n            </div>\n          </li>\n        `)).join("");f.insertAdjacentHTML("beforeend",t)}catch(s){console.error("Error rendering discount items:",s)}}();o=c("7rYDH");const h=()=>window.innerWidth<376;(async()=>{let s=1;const t=document.querySelector(".pg-list"),e=document.querySelector(".left-btns"),n=document.querySelector(".right-btns"),{totalPages:i}=await(0,o.getProducts)({sort:{field:"byABC",value:!0},limit:g()}),c=[];for(let t=0;t<i;t++){const e=`pg-item ${s===t+1?"pg-active":""} ${1===s&&0===t||s===i&&t===i-1?"dis":""}`;c.push(`<li class="${e}" data-pg="${t+1}">${t+1}</li>`)}if(h()){const s='<li class="pg-item dotDis">...</li>';c.splice(1,i-2,s),console.log(c)}else{const s='<li class="pg-item dotDis">...</li>';c.splice(2,i-4,s)}t.insertAdjacentHTML("beforeend",c.join("")),a();const l=()=>{document.querySelector(".pg-active").classList.remove("pg-active"),h()?s>1&&s<i-1?t.childNodes[1].classList.toggle("pg-active"):t.childNodes[s<2?s-1:s+2-i].classList.add("pg-active"):s>2&&s<i-2?t.childNodes[2].classList.toggle("pg-active"):t.childNodes[s<3?s-1:s+4-i].classList.add("pg-active")};function a(){e.childNodes[1].classList.toggle("dis",1==s),e.childNodes[3].classList.toggle("dis",1==s),n.childNodes[1].classList.toggle("dis",s==i),n.childNodes[3].classList.toggle("dis",s==i),t.childNodes[0].classList.toggle("dis",1==s),h()?t.childNodes[2].classList.toggle("dis",s==i):t.childNodes[4].classList.toggle("dis",s==i)}t.addEventListener("click",(t=>(t=>{if(t.classList.contains("pg-list"))return;document.querySelector(".pg-active").classList.remove("pg-active"),s=t.closest(".pg-item").dataset.pg,t.classList.add("pg-active"),a(),u(s)})(t.target))),e.addEventListener("click",(t=>(t=>{if(1==s||t.classList.contains("left-btns"))return;t.closest(".pg-arrow").classList.contains("js-btn-1")?s--:s=1,u(s),a(),l()})(t.target))),n.addEventListener("click",(t=>(t=>{if(s==i||t.classList.contains("right-btns"))return;t.closest(".pg-arrow").classList.contains("js-btn-1")?s++:s=i,u(s),a(),l()})(t.target)))})();
//# sourceMappingURL=index.911a05dd.js.map
