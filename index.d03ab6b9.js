function t(t,n,e,s){Object.defineProperty(t,n,{get:e,set:s,enumerable:!0,configurable:!0})}function n(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},o=e.parcelRequire6ab9;null==o&&((o=function(t){if(t in s)return s[t].exports;if(t in i){var n=i[t];delete i[t];var e={id:t,exports:{}};return s[t]=e,n.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,n){i[t]=n},e.parcelRequire6ab9=o),o.register("kyEFX",(function(n,e){var s,i;t(n.exports,"register",(function(){return s}),(function(t){return s=t})),t(n.exports,"resolve",(function(){return i}),(function(t){return i=t}));var o={};s=function(t){for(var n=Object.keys(t),e=0;e<n.length;e++)o[n[e]]=t[n[e]]},i=function(t){var n=o[t];if(null==n)throw new Error("Could not resolve bundle with id "+t);return n}})),o("kyEFX").register(JSON.parse('{"7bk21":"index.d03ab6b9.js","lp5u4":"sprite.901ad050.svg","9lroz":"index.5d3fb12e.js"}')),o("bA0jZ");const c=document.querySelectorAll(".dropdown-filter");c.forEach((t=>{t.addEventListener("click",(t=>{t.target.closest(".dropdown-filter").childNodes[5].classList.toggle("menu-open")}))})),document.addEventListener("click",(function(t){c.forEach((n=>{const e=n.closest(".dropdown-filter"),s=e.childNodes[5];e.contains(t.target)||s.contains(t.target)||s.classList.remove("menu-open")}))}));var a=o("7rYDH");const l=document.querySelector(".menu-categories-js");document.querySelector(".categories-js");!async function(){let t="";try{l.innerHTML="";const n=await(0,a.getProductsCategories)();t=n.map((t=>`<li class='menu-filter-item' data-value='${t}'>${t}</li>`)).join(""),t+='<li class="show-all-categories">Show all</li>'}catch(n){t="<li>Error! Try again</li>"}l.innerHTML=t}();a=o("7rYDH");var r=o("5uEKZ"),d=(r=o("5uEKZ"),o("bA0jZ"));const u=(t,n,e,s,i)=>{if(!t.classList.contains(n))return;const o={id:t.closest(e).dataset.id,amount:1},c=(0,r.getItem)("bucket");(0,r.setItem)("bucket",[...c,o]);const a=t.closest(s),l=t.closest(i).lastElementChild;a.classList.toggle("hidden"),l.classList.toggle("hidden"),(0,d.renderQuantityOrders)()};var p;p=new URL(o("kyEFX").resolve("lp5u4"),import.meta.url).toString();const g=document.querySelector(".js-cart-list"),m=async(t=1)=>{try{g.innerHTML='<li class="list-loader"><span class="loader"></span></li>';const{results:e}=await(0,a.getProducts)({page:t,sort:{field:"byABC",value:!0},limit:b()}),s=(0,r.getItem)("bucket"),i=e.map((t=>`\n  <li class="cart" data-id="${t._id}">\n  <div class="cart-container">\n  <div class="cart-img-container">\n    <img src="${t.img}" alt="" class="cart-img">\n    ${t.is10PercentOff?`<svg class="discount-svg" width="60" height="60">\n              <use\n                href="${n(p)}#icon-discount"\n              ></use>\n            </svg>`:""}\n  </div>\n    <p class="cart-name">${t.name}</p>\n    <ul class="info">\n      <li class="info-item">Category: <span class="info-text">${t.category}</span></li>\n      <li class="info-item">Size: <span class="info-text">${t.size}</span></li>\n      <li class="info-item">Popularity: <span class="info-text">${t.popularity}</span></li>\n    </ul>\n    <div class="buy-info">\n      <p class="buy-price">$${t.price}</p>\n    \n      ${s.some((n=>n.id===t._id))?`<button class="check" type="button" disabled>\n            <svg class="buy-svg" width="18" height="18">\n              <use\n                class="check-svg"\n                href="${n(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="buy buy-btn js-buy-button" type="button">\n            <svg class="buy-svg buy-btn" width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${n(p)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check hidden" type="button">\n            <svg class="buy-svg " width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${n(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n    </div>\n    </div>\n  </li>\n      `));g.innerHTML="",g.insertAdjacentHTML("beforeend",i.join(""))}catch(t){console.log(t)}};function b(){const t=window.innerWidth;return t>=768&&t<1440?8:t>=1440?9:6}m(),g.addEventListener("click",(t=>u(t.target,"buy-btn",".cart",".buy",".buy-info")));a=o("7rYDH");const f=()=>window.innerWidth<376;(async()=>{let t=1;const n=document.querySelector(".pg-list"),e=document.querySelector(".left-btns"),s=document.querySelector(".right-btns"),{totalPages:i}=await(0,a.getProducts)({sort:{field:"byABC",value:!0},limit:b()}),o=[];for(let n=0;n<i;n++){const e=`pg-item ${t===n+1?"pg-active":""} ${1===t&&0===n||t===i&&n===i-1?"dis":""}`;o.push(`<li class="${e}" data-pg="${n+1}">${n+1}</li>`)}if(f()){const t='<li class="pg-item dotDis">...</li>';o.splice(1,i-2,t),console.log(o)}else{const t='<li class="pg-item dotDis">...</li>';o.splice(2,i-4,t)}n.insertAdjacentHTML("beforeend",o.join("")),l();const c=()=>{document.querySelector(".pg-active").classList.remove("pg-active"),f()?t>1&&t<i-1?n.childNodes[1].classList.toggle("pg-active"):n.childNodes[t<2?t-1:t+2-i].classList.add("pg-active"):t>2&&t<i-2?n.childNodes[2].classList.toggle("pg-active"):n.childNodes[t<3?t-1:t+4-i].classList.add("pg-active")};function l(){e.childNodes[1].classList.toggle("dis",1==t),e.childNodes[3].classList.toggle("dis",1==t),s.childNodes[1].classList.toggle("dis",t==i),s.childNodes[3].classList.toggle("dis",t==i),n.childNodes[0].classList.toggle("dis",1==t),f()?n.childNodes[2].classList.toggle("dis",t==i):n.childNodes[4].classList.toggle("dis",t==i)}n.addEventListener("click",(n=>(n=>{if(n.classList.contains("pg-list"))return;document.querySelector(".pg-active").classList.remove("pg-active"),t=n.closest(".pg-item").dataset.pg,n.classList.add("pg-active"),l(),m(t)})(n.target))),e.addEventListener("click",(n=>(n=>{if(1==t||n.classList.contains("left-btns"))return;n.closest(".pg-arrow").classList.contains("js-btn-1")?t--:t=1,m(t),l(),c()})(n.target))),s.addEventListener("click",(n=>(n=>{if(t==i||n.classList.contains("right-btns"))return;n.closest(".pg-arrow").classList.contains("js-btn-1")?t++:t=i,m(t),l(),c()})(n.target)))})();a=o("7rYDH"),r=o("5uEKZ");const h=document.querySelector(".popular-product-list");function v(t,n){return t.popularity<n.popularity?1:t.popularity>n.popularity?-1:0}(async()=>{try{let t=5;h.innerHTML="";const e=await(0,a.getPopularProducts)(t),s=(0,r.getItem)("bucket");e.sort(v);const i=e.map((t=>`\n  <li class="popular-product-item" data-id="${t._id}">\n      <div class="product-image-container">\n        <img\n          src="${t.img}"\n          alt="#"\n          width="56"\n          height="56"\n        />\n      </div>\n      <div class="product-description">\n        <p class="product-name">${t.name}</p>\n          <p class="info-item">\n            Category:<span class="info-text">${t.category}</span>\n          </p>\n          <div class="product-info">\n          <p class="info-item">Size:<span class="info-text">${t.size}</span></p>\n          <p class="info-item">Popularity:<span class="info-text">${t.popularity}</span></p>\n        </div>\n      </div>\n      <div class="btn-wrapper">\n      ${s.some((n=>n.id===t._id))?`<button class="check-popular" type="button" disabled>\n            <svg class="buy-svg-popular" width="12" height="12">\n              <use\n                class="check-svg-popular"\n                href="${n(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="popular-product-button btn-js js-buy-button" type="button">\n            <svg class="icon-popular-btn btn-js" width="12" height="12">\n              <use\n                class="btn-js"\n                href="${n(p)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check-popular hidden" type="button">\n            <svg class="buy-svg-popular" width="12" height="12">\n              <use\n                class="btn-js"\n                href="${n(p)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n      </div>\n    </li>\n      `));h.insertAdjacentHTML("beforeend",i.join(""))}catch(t){console.log(t)}})(),h.addEventListener("click",(t=>u(t.target,"btn-js",".popular-product-item",".popular-product-button",".btn-wrapper")));a=o("7rYDH");const y=document.querySelector(".js-discount-list");!async function(){try{const t=(await(0,a.getDiscountedProducts)()).slice(0,2).map((t=>`\n          <li class="discount-item" data-id="${t._id}>\n            <svg class="discount-icon" width="60" height="60">\n              <use href="${n(p)}#icon-discount"></use>\n            </svg>\n            <div class="discount-container-img">\n              <img\n                src="${t.img}"\n                alt="${t.name}-img"\n                class="discount-img"\n              />\n            </div>\n            <div class="discount-order">\n              <h3 class="discount-name">${t.name}</h3>\n              <p class="discount-price">&#36;${t.price}</p>\n              <button type="button" class="discount-button js-buy-button">\n                <svg class="discount-shopping-icon" width="18" height="18">\n                  <use href="${n(p)}#icon-shopping-cart"></use>\n                </svg>\n              </button>\n            </div>\n          </li>\n        `)).join("");y.insertAdjacentHTML("beforeend",t)}catch(t){console.error("Error rendering discount items:",t)}}();a=o("7rYDH");function L(t){return` <h2 class="modal-title">${t.name}</h2>\n        <div class="modal-box-info">\n          <p class="classification">\n            Category:<span class="modal-info">${t.category}</span>\n          </p>\n          <p class="classification">\n            Size:<span class="modal-info">${t.size}</span>\n          </p>\n          <p class="classification">\n            Popularity:<span class="modal-info">${t.popularity}</span>\n          </p>\n        </div>\n\n        <p class="modal-description">\n        ${t.desc}\n        </p>\n    `}const w={openModal:document.querySelector(".products-container"),closeModalBtn:document.querySelector(".popup-modal-close"),modal:document.querySelector(".modal-backdrops"),modalPattern:document.querySelector(".modal-window"),modalContainer:document.querySelector(".modal-main-content-box"),modalPrice:document.querySelector(".modal-price"),modalPicture:document.querySelector(".modal-pic"),modalContent:document.querySelector(".modal-main-content")};async function $(t){if(!t.target.closest(".js-buy-button")&&!t.target.closest(".pagination-container"))if(w.modal.classList.toggle("is-hidden"),w.modal.classList.contains("is-hidden"))w.modalPicture.setAttribute("src",""),w.modalContent.innerHTML="",w.modalPrice.innerHTML="",window.removeEventListener("keydown",k);else try{const n=t.target.closest("li").dataset.id,e=await(0,a.getProductById)(n),s=L(e);w.modalPicture.setAttribute("src",e.img),w.modalContent.innerHTML=s,w.modalPrice.innerHTML=`&#36;${e.price}`,window.addEventListener("keydown",k)}catch(t){}}function k(t){"Escape"===t.code&&$()}w.openModal.addEventListener("click",$),w.closeModalBtn.addEventListener("click",$),w.modal.addEventListener("click",(function(t){t.target===w.modal&&$()}));
//# sourceMappingURL=index.d03ab6b9.js.map
