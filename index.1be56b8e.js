function t(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},o=n.parcelRequire6ab9;null==o&&((o=function(t){if(t in s)return s[t].exports;if(t in i){var e=i[t];delete i[t];var n={id:t,exports:{}};return s[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},n.parcelRequire6ab9=o),o.register("kyEFX",(function(e,n){var s,i;t(e.exports,"register",(function(){return s}),(function(t){return s=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var o={};s=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)o[e[n]]=t[e[n]]},i=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o("kyEFX").register(JSON.parse('{"7bk21":"index.1be56b8e.js","lp5u4":"sprite.f1a06e51.svg","9lroz":"index.b98c930e.js"}')),o("bA0jZ");function a(t){const e=document.querySelector(".menu-open");t.target.closest(".dropdown-filter")||(e?.classList.toggle("menu-open"),document.removeEventListener("click",a))}document.querySelectorAll(".dropdown-filter").forEach((t=>{t.addEventListener("click",(t=>(t.target.closest(".dropdown-filter").childNodes[5].classList.toggle("menu-open"),void document.addEventListener("click",a))))}));var c=o("7rYDH"),l=o("5uEKZ"),r=(c=o("7rYDH"),l=o("5uEKZ"),l=o("5uEKZ"),o("bA0jZ"));const d=t=>{const e=document.querySelector(`.js-product-item[data-id="${t}"]`);if(!e)return;const n={id:t,amount:1,price:e.dataset.price},s=(0,l.getItem)("bucket");(0,l.setItem)("bucket",[...s,n]),(t=>{document.querySelectorAll(`.js-product-item[data-id="${t}"]`).forEach((t=>{const e=t.querySelector(".js-buy-button"),n=t.querySelector(".js-bought-btn");e&&n&&(e.classList.toggle("hidden"),n.classList.toggle("hidden"))}))})(t),(0,r.renderQuantityOrders)()};var u;u=new URL(o("kyEFX").resolve("lp5u4"),import.meta.url).toString();const p=()=>window.innerWidth<768,g=async t=>{const e=document.querySelector(".pagination-container");if(t<2)return void e.classList.add("hidden");e.classList.remove("hidden");let n=1;const s=document.querySelector(".pg-list");s.innerHTML="";const i=document.querySelector(".left-btns"),o=document.querySelector(".right-btns");t<6&&s.classList.add("less-six");const a=[];for(let e=0;e<t;e++){const s=`pg-item ${n===e+1?"pg-active":""} ${1===n&&0===e||n===t&&e===t-1?"dis":""}`;a.push(`<li class="${s}" data-pg="${e+1}">${e+1}</li>`)}if(p()){const e='<li class="pg-item dotDis">...</li>';a.splice(1,t-2,e)}else if(t<6);else{const e='<li class="pg-item dotDis">...</li>';a.splice(2,t-4,e)}s.insertAdjacentHTML("beforeend",a.join("")),l();const c=()=>{document.querySelector(".pg-active").classList.remove("pg-active"),p()?n>1&&n<t-1?s.childNodes[1].classList.toggle("pg-active"):s.childNodes[n<2?n-1:n+2-t].classList.add("pg-active"):s.classList.contains("less-six")?s.childNodes[n-1].classList.add("pg-active"):n>2&&n<t-2?s.childNodes[2].classList.toggle("pg-active"):s.childNodes[n<3?n-1:n+4-t].classList.add("pg-active")};function l(){i.childNodes[1].classList.toggle("dis",1==n),i.childNodes[3].classList.toggle("dis",1==n),o.childNodes[1].classList.toggle("dis",n==t),o.childNodes[3].classList.toggle("dis",n==t),s.childNodes[0].classList.toggle("dis",1==n),s.childNodes[s.childNodes.length-1].classList.toggle("dis",n==t)}s.addEventListener("click",(t=>(t=>{if(t.classList.contains("pg-list"))return;document.querySelector(".pg-active").classList.remove("pg-active"),n=t.closest(".pg-item").dataset.pg,t.classList.add("pg-active"),l(),f(n)})(t.target))),i.addEventListener("click",(t=>(t=>{if(1==n||t.classList.contains("left-btns"))return;t.closest(".pg-arrow").classList.contains("js-btn-1")?n--:n=1,f(n),l(),c()})(t.target))),o.addEventListener("click",(e=>(e=>{if(n==t||e.classList.contains("right-btns"))return;e.closest(".pg-arrow").classList.contains("js-btn-1")?n++:n=t,f(n),l(),c()})(e.target)))};var m=o("lNk7C"),b=o("7Y9D8");const h=new(e(m)),y=document.querySelector(".js-cart-list"),v=document.querySelector(".empty-storage"),f=async(t=1)=>{try{y.innerHTML='<li class="list-loader"><span class="loader"></span></li>';const n=(0,l.getItem)("pageData"),{results:s,totalPages:i}=await(0,c.getProducts)({category:n.category?n.category:"",...n.sortBy,keyword:n.keyword?n.keyword:"",page:t,limit:L()});if(1===t&&await g(i),s.length<1)return v.style.display="block",y.innerHTML="",void y.appendChild(v);const o=(0,l.getItem)("bucket"),a=s.map((t=>`\n  <li\n    class="cart product-card js-product-item"\n    data-id="${t._id}" \n    data-price="${t.price}"\n  >\n  <div class="cart-container">\n  <div class="cart-img-container">\n    <img\n      data-src="${t.img}"\n      alt="${t.name}" \n      class="lazy cart-img" \n      loading="lazy"\n    >\n    ${t.is10PercentOff?`<svg class="discount-svg" width="60" height="60">\n              <use\n                href="${e(u)}#icon-discount"\n              ></use>\n            </svg>`:""}\n  </div>\n    <p class="cart-name">${t.name}</p>\n    <ul class="info">\n      <li class="info-item">Category: <span class="info-text">${t.category.split("_").join(" ")}</span></li>\n      <li class="info-item">Size: <span class="info-text">${t.size}</span></li>\n      <li class="info-item">Popularity: <span class="info-text">${t.popularity}</span></li>\n    </ul>\n    <div class="buy-info">\n      <p class="buy-price">&#36;${t.price}</p>\n    \n      ${o.some((e=>e.id===t._id))?`<button class="check js-bought-btn" type="button" disabled>\n            <svg class="buy-svg" width="18" height="18">\n              <use\n                class="check-svg"\n                href="${e(u)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="buy buy-btn js-buy-button" type="button" aria-label="Add to the shopping cart">\n            <svg class="buy-svg buy-btn" width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${e(u)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check js-bought-btn hidden" type="button">\n            <svg class="buy-svg " width="18" height="18">\n              <use\n                class="buy-btn"\n                href="${e(u)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n    </div>\n    </div>\n  </li>\n      `));y.innerHTML="",y.insertAdjacentHTML("beforeend",a.join("")),h.update()}catch(t){return b.Notify.failure(error.message)}};function L(){const t=window.innerWidth;return t>=768&&t<1440?8:t>=1440?9:6}f(),y.addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&d(t.target.closest("li.js-product-item").dataset.id)})),window.addEventListener("beforeunload",(t=>{(0,l.setItem)("pageData",{})}));b=o("7Y9D8");const w=document.querySelector(".menu-categories-js");!async function(){let t="";try{w.innerHTML="";const e=await(0,c.getProductsCategories)();t=e.map((t=>`<li class='menu-filter-item' data-value='${t}'>${t.split("_").join(" ")}</li>`)).join(""),t+='<li class="show-all-categories menu-filter-item" data-value="ShowAll">Show all</li>',w.innerHTML=t}catch(t){return b.Notify.failure(t.message)}}();w.addEventListener("click",(t=>(t=>{const e=document.querySelector(".js-categories-selected");if(!t.classList.contains("menu-filter-item"))return;const n=t.dataset.value,s=(0,l.getItem)("pageData");"ShowAll"===n?(e.textContent=n.split("_").join(" "),(0,l.setItem)("pageData",{...s,category:""})):(e.textContent=n.split("_").join(" "),(0,l.setItem)("pageData",{...s,category:n})),f()})(t.target)));l=o("5uEKZ");const j=document.querySelector(".js-menu-sort");j.insertAdjacentHTML("beforeend",`          <li class="menu-sort-item" data-value='${JSON.stringify({byABC:!0})}'>A to Z</li>\n          <li class="menu-sort-item" data-value='${JSON.stringify({byABC:!1})}'>Z to A</li>\n          <li class="menu-sort-item" data-value='${JSON.stringify({byPrice:!0})}'>Cheap</li>\n          <li class="menu-sort-item" data-value='${JSON.stringify({byPrice:!1})}'>Expensive</li>\n          <li class="menu-sort-item" data-value='${JSON.stringify({byPopularity:!1})}'>Popular</li>\n          <li class="menu-sort-item" data-value='${JSON.stringify({byPopularity:!0})}'>Not popular</li>\n          <li class="menu-sort-item" data-value='${JSON.stringify({all:!0})}'>Show all</li>`);j.addEventListener("click",(t=>(t=>{if(!t.classList.contains("menu-sort-item"))return;const e=JSON.parse(t.dataset.value),n=t.textContent,s=(0,l.getItem)("pageData"),i=document.querySelector(".js-sort-selected");e.all?(0,l.setItem)("pageData",{}):((0,l.setItem)("pageData",{...s,sortBy:{...e}}),i.textContent=n),f()})(t.target)));l=o("5uEKZ");const $=document.querySelector(".form-search");$.addEventListener("submit",(t=>{t.preventDefault();const e=$[0].value,n=(0,l.getItem)("pageData");(0,l.setItem)("pageData",{...n,keyword:e}),f()}));c=o("7rYDH"),l=o("5uEKZ"),m=o("lNk7C"),b=o("7Y9D8");const k=new(e(m)),S=document.querySelector(".popular-product-list");function E(t,e){return t.popularity<e.popularity?1:t.popularity>e.popularity?-1:0}(async()=>{try{let t=5;S.innerHTML="";const n=await(0,c.getPopularProducts)(t),s=(0,l.getItem)("bucket");n.sort(E);const i=n.map((t=>`\n  <li class="popular-product-item product-card js-product-item" data-id="${t._id}" data-price="${t.price}">\n      <div class="product-image-container">\n        <img\n          class="lazy"\n          src="${t.img}"\n          alt="${t.name}"\n          width="56"\n          height="56"\n          loading="lazy"\n        />\n      </div>\n      <div class="product-description">\n        <p class="product-name">${t.name}</p>\n          <p class="info-item">\n            Category:<span class="info-text">${t.category.split("_").join(" ")}</span>\n          </p>\n          <div class="product-info">\n          <p class="info-item">Size:<span class="info-text">${t.size}</span></p>\n          <p class="info-item">Popularity:<span class="info-text">${t.popularity}</span></p>\n        </div>\n      </div>\n      <div class="btn-wrapper">\n      ${s.some((e=>e.id===t._id))?`<button class="check-popular js-bought-btn" type="button" disabled>\n            <svg class="buy-svg-popular" width="12" height="12">\n              <use\n                class="check-svg-popular"\n                href="${e(u)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="popular-product-button btn-js js-buy-button" type="button" aria-label="Add to the shopping cart">\n            <svg class="icon-popular-btn btn-js" width="12" height="12">\n              <use\n                class="btn-js"\n                href="${e(u)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check-popular js-bought-btn hidden" type="button">\n            <svg class="buy-svg-popular" width="12" height="12">\n              <use\n                class="btn-js"\n                href="${e(u)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n      </div>\n    </li>\n      `));S.insertAdjacentHTML("beforeend",i.join("")),k.update()}catch(t){return b.Notify.failure(error.message)}})(),S.addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&d(t.target.closest("li.js-product-item").dataset.id)}));c=o("7rYDH"),l=o("5uEKZ"),m=o("lNk7C"),b=o("7Y9D8");const N=new(e(m)),q=(0,l.getItem)("bucket"),x=document.querySelector(".js-discount-list");!async function(){try{const t=(await(0,c.getDiscountedProducts)()).slice(0,2).map((t=>`\n          <li class="discount-item product-card js-product-item" data-id="${t._id}" data-price="${t.price}">\n            <svg class="discount-icon" width="60" height="60">\n              <use href="${e(u)}#icon-discount"></use>\n            </svg>\n            <div class="discount-container-img">\n              <img\n                src="${t.img}"\n                alt="${t.name}"\n                class="lazy discount-img"\n                loading="lazy"\n                width="114"\n              />\n            </div>\n            <div class="discount-order">\n              <h3 class="discount-name">${t.name}</h3>\n              <p class="discount-price">&#36;${t.price}</p>\n              <div class="btn-wrapper-discount">\n              ${q.some((e=>e.id===t._id))?`<button class="check-discount js-bought-btn" type="button" disabled>\n            <svg class="buy-svg-discount" width="18" height="18">\n              <use\n                class="check-svg-discount"\n                href="${e(u)}#icon-check"\n              ></use>\n            </svg>\n          </button>`:`<button class="discount-product-button btn-js js-buy-button" type="button" aria-label="Add to the shopping cart">\n            <svg class="icon-discount-btn btn-js" width="18" height="18">\n              <use\n                class="btn-js"\n                href="${e(u)}#icon-shopping-cart"\n              ></use>\n            </svg>\n          </button>`}\n      <button class="check-discount js-bought-btn hidden" type="button">\n            <svg class="buy-svg-discount" width="18" height="18">\n              <use\n                class="btn-js"\n                href="${e(u)}#icon-check"\n              ></use>\n            </svg>\n          </button>\n            </div>\n            </div>\n          </li>\n        `)).join("");x.insertAdjacentHTML("beforeend",t),N.update()}catch(t){return b.Notify.failure(t.message)}}(),x.addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&d(t.target.closest("li.js-product-item").dataset.id)})),o("gTaRf");c=o("7rYDH"),l=o("5uEKZ");function D(t){const n=(0,l.getItem)("bucket");return` \n    <div class="modal-window js-product-item" data-id="${t._id}" data-price="${t.price}">\n      <button type="button" class="modal-close-btn popup-modal-close">\n      <svg class="modal-close-icon">\n        <use href="${e(u)}#close"></use>\n      </svg>\n    </button>\n\n    <div class="modal-main-content-box">\n      <div class="modal-picture-box-container">\n        <img\n          class="modal-pic"\n          src="${t.img}" \n          alt="${t.name}"\n          loading="lazy" \n        />\n      </div>\n      <div class="modal-main-content">\n        <h2 class="modal-title">${t.name}</h2>\n        <div class="modal-box-info">\n          <p class="classification">\n            Category:<span class="modal-info">${t.category.split("_").join(" ")}</span>\n          </p>\n          <p class="classification">\n            Size:<span class="modal-info">${t.size}</span>\n          </p>\n          <p class="classification">\n            Popularity:<span class="modal-info">${t.popularity}</span>\n          </p>\n        </div>\n\n        <p class="modal-description">\n        ${t.desc}\n        </p>\n      </div>\n    </div>\n\n    <div class="modal-box-bottom">\n      <p class="modal-price">&#36;${t.price}</p>\n\n\n  \n      ${n.some((e=>e.id===t._id))?`      <button\n        type="button"\n        class="added-to js-bought-btn"\n        data-modal-added-to\n      >\n        Added <svg class="modal-shopping-cart" width="18" height="18">\n          <use href="${e(u)}#icon-check"></use>\n        </svg>\n      </button>`:`<button type="button" class="add-to js-buy-button" data-modal-add-to>\n        Add to<svg class="modal-shopping-cart js-buy-button" width="18" height="18">\n          <use href="${e(u)}#icon-shopping-cart"></use>\n        </svg>\n      </button>`}\n            <button\n        type="button"\n        class="added-to js-bought-btn hidden"\n        data-modal-added-to\n      >\n        Added <svg class="modal-shopping-cart" width="18" height="18">\n          <use href="${e(u)}#icon-check"></use>\n        </svg>\n      </button>\n    </div>\n    </div>\n    `}b=o("7Y9D8");const A={popular:document.querySelector(".popular-product-list"),products:document.querySelector(".js-cart-list"),discount:document.querySelector(".js-discount-list"),modal:document.querySelector(".modal-backdrops"),modalContent:document.querySelector(".modal-backdrop-containter"),cardLoaderContainer:document.querySelector(".card-loader-container")};async function H(t){try{if(t?.target.closest("ul")?.querySelector(".empty-storage")||t?.target.closest(".js-buy-button")||"UL"===t?.target.nodeName||t?.target.classList.contains("list-loader"))return;if(A.modal.classList.toggle("is-hidden"),A.modal.classList.contains("is-hidden"))A.modalContent.innerHTML="",document.body.classList.toggle("scroll-hiden"),window.removeEventListener("keydown",C);else{A.cardLoaderContainer.classList.toggle("is-hidden");const e=t.target.closest("li").dataset.id,n=D(await(0,c.getProductById)(e));A.modalContent.insertAdjacentHTML("beforeend",n),A.cardLoaderContainer.classList.toggle("is-hidden");document.querySelector(".modal-window").addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("js-buy-button")&&d(t.target.closest(".js-product-item").dataset.id)}));const s=document.querySelector(".popup-modal-close");A.modal.addEventListener("click",_),s.addEventListener("click",H),window.addEventListener("keydown",C),document.body.classList.toggle("scroll-hiden")}}catch(t){return b.Notify.failure(t.message)}}function C(t){"Escape"===t.code&&H()}function _(t){t.target.classList.contains("modal-backdrops")&&H()}A.popular.addEventListener("click",H),A.products.addEventListener("click",H),A.discount.addEventListener("click",H),o("ipaYR"),o("9CQTL");const T=document.querySelector(".js-scroll-up-btn"),I=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>400?T.classList.remove("hide-scroll-up-btn"):T.classList.add("hide-scroll-up-btn"),T.addEventListener("click",I)}));
//# sourceMappingURL=index.1be56b8e.js.map
